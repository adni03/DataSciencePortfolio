<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>H-1B Visa Analysis [R] - Data Science Portfolio</title><meta name="Description" content="Hugo theme - LoveIt"><meta property="og:title" content="H-1B Visa Analysis [R]" />
<meta property="og:description" content="Analysis of President Trump&rsquo;s memos on the H-1B applications in the year 2017." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://adni03.github.io/Portfolio/h-1b-analysis/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-09-12T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-09-12T00:00:00+00:00" /><meta property="og:site_name" content="LoveIt" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="H-1B Visa Analysis [R]"/>
<meta name="twitter:description" content="Analysis of President Trump&rsquo;s memos on the H-1B applications in the year 2017."/>
<meta name="application-name" content="Aditya Nittala">
<meta name="apple-mobile-web-app-title" content="Aditya Nittala"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="canonical" href="https://adni03.github.io/Portfolio/h-1b-analysis/" /><link rel="prev" href="https://adni03.github.io/Portfolio/fake-news-classification/" /><link rel="stylesheet" href="/Portfolio/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "H-1B Visa Analysis [R]",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/adni03.github.io\/Portfolio\/h-1b-analysis\/"
        },"image": ["https:\/\/adni03.github.io\/images\/Apple-Devices-Preview.png"],"genre": "posts","keywords": "R, ggplot","wordcount":  2501 ,
        "url": "https:\/\/adni03.github.io\/Portfolio\/h-1b-analysis\/","datePublished": "2022-09-12T00:00:00+00:00","dateModified": "2022-09-12T00:00:00+00:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": "https:\/\/adni03.github.io\/images\/avatar.png"},"author": {
                "@type": "Person",
                "name": "Aditya Nittala"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/Portfolio/" title="Data Science Portfolio"><span class="header-title-pre"><i class='fa-solid fa-spinner fa-pulse' aria-hidden='true'></i></span> Aditya Nittala</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/Portfolio/posts/"> Projects </a><a class="menu-item" href="/Portfolio/categories/"> Categories </a><a class="menu-item" href="/Portfolio/tags/"> Tags </a><a class="menu-item" href="/Portfolio/about/"> About </a><a class="menu-item" href="https://github.com/adni03" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i>  </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/Portfolio/" title="Data Science Portfolio"><span class="header-title-pre"><i class='fa-solid fa-spinner fa-pulse' aria-hidden='true'></i></span> Aditya Nittala</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/Portfolio/posts/" title="">Projects</a><a class="menu-item" href="/Portfolio/categories/" title="">Categories</a><a class="menu-item" href="/Portfolio/tags/" title="">Tags</a><a class="menu-item" href="/Portfolio/about/" title="">About</a><a class="menu-item" href="https://github.com/adni03" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i></a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content always-active" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">H-1B Visa Analysis [R]</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/Portfolio/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>Aditya Nittala</a></span>&nbsp;<span class="post-category">included in <a href="/Portfolio/categories/data-viz/"><i class="far fa-folder fa-fw" aria-hidden="true"></i>Data Viz</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2022-09-12">2022-09-12</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;2501 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;12 minutes&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/Portfolio/svg/loading.min.svg"
        data-src="/Portfolio/h-1b-analysis/h1b-visa.jpg"
        data-srcset="/Portfolio/h-1b-analysis/h1b-visa.jpg, /Portfolio/h-1b-analysis/h1b-visa.jpg 1.5x, /Portfolio/h-1b-analysis/h1b-visa.jpg 2x"
        data-sizes="auto"
        alt="/Portfolio/h-1b-analysis/h1b-visa.jpg"
        title="/Portfolio/h-1b-analysis/h1b-visa.jpg" width="959" height="565" /></div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#1-introduction">1. Introduction</a></li>
    <li><a href="#2-libraries">2. Libraries</a></li>
    <li><a href="#3-the-dataset">3. The Dataset</a></li>
    <li><a href="#4-reading-the-data">4. Reading the data</a>
      <ul>
        <li><a href="#1-data-snippet">1. Data Snippet</a></li>
        <li><a href="#2-data-cleaning">2. Data Cleaning</a></li>
      </ul>
    </li>
    <li><a href="#5-number-of-h-1b-applications-filed-from-2015-to-2019">5. Number of H-1B applications filed from 2015 to 2019</a></li>
    <li><a href="#6-number-of-applications-by-state">6. Number of applications by state</a></li>
    <li><a href="#7-distribution-of-case-status">7. Distribution of Case Status</a></li>
    <li><a href="#8-occupation-code">8. Occupation Code</a></li>
    <li><a href="#9-was-there-a-change-in-the-number-of-applications-for-these-positions-over-the-years">9. Was there a change in the number of applications for these positions over the years?</a></li>
    <li><a href="#10-part-time-vs-full-time">10. Part-time vs Full-time</a></li>
    <li><a href="#11-effect-of-h-1b-salary-floor-on-the-certification-percentage">11. Effect of H-1B salary floor on the certification percentage</a></li>
    <li><a href="#12-which-companies-sponsored-h-1b-visas-the-most-and-was-there-a-decline-after-the-memos">12. Which companies sponsored H-1B visas the most, and was there a decline after the memos?</a></li>
    <li><a href="#13-conclusion-and-remarks">13. Conclusion and remarks</a></li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>Analysis of President Trump&rsquo;s memos on the H-1B applications in the year 2017.</p>
<h2 id="1-introduction">1. Introduction</h2>
<p>The H-1B is a temporary (non-immigrant) visa category that allows employers to petition for highly educated foreign professionals to work in “specialty occupations” that require at least a Bachelor’s degree or the equivalent. For a foreign national to apply for H-1B visa, a US employer must offer them employment and submit a petition for the visa to the US Immigration department (USCIS).</p>
<p>In 2016, Donald Trump won the presidential election to become the 45th President of the United States. In the following year, President Trump’s administration issued memos that were meant to clarify the existing H-1B applications process. It was not mandatory for the state governments to enforce these memos. Forbes posted an interesting article about a few policies that the president wanted to introduce. As an international student looking to gain work experience in the United States, the H-1B visa is a wonderful opportunity that enables me to achieve that goal. In this project, I want to explore the H-1B visa applications data for the years from 2015 to 2019 to see if the memo affected the application process and more broadly, observe how policy affects the process.</p>
<p>References:</p>
<ul>
<li><a href="https://www.americanimmigrationcouncil.org/research/h1b-visa-program-fact-sheet" target="_blank" rel="noopener noreffer ">American Immigration Council</a></li>
<li><a href="https://www.forbes.com/sites/stuartanderson/2021/02/01/the-story-of-how-trump-officials-tried-to-end-h-1b-visas/?sh=21b556b9173f" target="_blank" rel="noopener noreffer ">The Story of How Trump Officials Tried to End H-1B Visas</a></li>
</ul>
<h2 id="2-libraries">2. Libraries</h2>
<p>These are the libraries I used for this project:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">knitr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">kableExtra</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">library</span><span class="p">(</span><span class="n">dplyr</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="3-the-dataset">3. The Dataset</h2>
<p>The dataset used for this analysis was downloaded from <a href="www.kaggle.com" rel="">Kaggle</a> and is called the H-1B Visa Petitions 2015-2019 dataset. It contains five year’s worth of H-1B petition data, with around 860,000 records overall.</p>
<p>There are 13 columns in the dataset and they are explained as follows:</p>
<ul>
<li><code>CASE_STATUS</code>: Status of the H-1B application</li>
<li><code>CASE_NUMBER</code>: Unique case identifier number</li>
<li><code>EMPLOYER_NAME</code>: The name of the employer as registered in the H-1B application</li>
<li><code>SOC_NAME</code>: The occupation name for the employment</li>
<li><code>SOC_CODE</code>: The occupation code for the employment</li>
<li><code>JOB_TITLE</code>: The job title of the employment</li>
<li><code>FULL_TIME_POSITION</code>: Whether the application is for full time roles</li>
<li><code>PREVAILING_WAGE</code>: The most frequent wage for the corresponding role</li>
<li><code>YEAR</code>: Year of application filing</li>
<li><code>WORKSITE</code>: The address of the employer worksite</li>
<li><code>WORKSITE_STATE_FULL</code>: The state of the employer worksite</li>
<li><code>WORKSITE_STATE_ABB</code>: The abbreviated state of the employer worksite</li>
<li><code>WORKSITE_STATE_CITY</code>: The city of the employer worksite</li>
</ul>
<p>References:</p>
<ul>
<li><a href="https://www.kaggle.com/datasets/abrambeyer/h1b-visa-petitions-20152019" target="_blank" rel="noopener noreffer ">H-1B Visa Petitions 2015-2019 dataset</a></li>
</ul>
<h2 id="4-reading-the-data">4. Reading the data</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">df</span> <span class="o">&lt;-</span> <span class="nf">read.csv</span><span class="p">(</span><span class="s">&#34;~/Documents/Carnegie Mellon University/Semester - 3/Mini - 5/R/Final Project/h1b_kaggle_2019.csv&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">stringsAsFactors</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Dropping unnecessary columns like: WORKSITE_STATE_ABB, WORKSITE and CASE_NUMBER</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">&lt;-</span> <span class="n">df[</span><span class="o">!</span><span class="nf">names</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#34;WORKSITE_STATE_ABB&#34;</span><span class="n">]</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">&lt;-</span> <span class="n">df[</span><span class="o">!</span><span class="nf">names</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#34;WORKSITE&#34;</span><span class="n">]</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span> <span class="o">&lt;-</span> <span class="n">df[</span><span class="o">!</span><span class="nf">names</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">==</span> <span class="s">&#34;CASE_NUMBER&#34;</span><span class="n">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Converting YEAR into characters and factors</span>
</span></span><span class="line"><span class="cl"><span class="n">df</span><span class="o">$</span><span class="n">YEAR</span> <span class="o">&lt;-</span> <span class="nf">as.factor</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">df</span><span class="o">$</span><span class="n">YEAR</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Renaming WORKSITE_STATE and WORKSITE_CITY to STATE and CITY</span>
</span></span><span class="line"><span class="cl"><span class="nf">colnames</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="n">[8]</span> <span class="o">&lt;-</span> <span class="s">&#34;CITY&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nf">colnames</span><span class="p">(</span><span class="n">df</span><span class="p">)</span><span class="n">[10]</span> <span class="o">&lt;-</span> <span class="s">&#34;STATE&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">str</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="1-data-snippet">1. Data Snippet</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="nf">head</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="m">5</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl"><span class="nf">kable</span><span class="p">(</span><span class="s">&#34;html&#34;</span><span class="p">,</span> <span class="n">escape</span> <span class="o">=</span> <span class="bp">F</span><span class="p">,</span> <span class="n">align</span> <span class="o">=</span> <span class="s">&#34;c&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl"><span class="nf">kable_styling</span><span class="p">(</span><span class="n">bootstrap_options</span> <span class="o">=</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;striped&#34;</span><span class="p">,</span> <span class="s">&#34;hover&#34;</span><span class="p">,</span> <span class="s">&#34;condensed&#34;</span><span class="p">),</span> 
</span></span><span class="line"><span class="cl">                <span class="n">full_width</span> <span class="o">=</span> <span class="bp">F</span><span class="p">,</span> <span class="n">font_size</span> <span class="o">=</span> <span class="m">10</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="/Portfolio/h-1b-analysis/snippet.png" title="/Portfolio/h-1b-analysis/snippet.png" data-thumbnail="/Portfolio/h-1b-analysis/snippet.png" data-sub-html="<h2>Data snippet</h2>">
        <img
            class="lazyload"
            src="/Portfolio/svg/loading.min.svg"
            data-src="/Portfolio/h-1b-analysis/snippet.png"
            data-srcset="/Portfolio/h-1b-analysis/snippet.png, /Portfolio/h-1b-analysis/snippet.png 1.5x, /Portfolio/h-1b-analysis/snippet.png 2x"
            data-sizes="auto"
            alt="/Portfolio/h-1b-analysis/snippet.png" width="1872" height="668" />
    </a><figcaption class="image-caption">Data snippet</figcaption>
    </figure></p>
<h3 id="2-data-cleaning">2. Data Cleaning</h3>
<p>There are rows with missing data. Since there are around 860,000 rows of data, I chose to drop these rows instead of imputing the values.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl">    <span class="c1"># Checking and dropping rows with missing values:</span>
</span></span><span class="line"><span class="cl">    <span class="n">df</span> <span class="o">&lt;-</span> <span class="nf">na.omit</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nf">sum</span><span class="p">(</span><span class="nf">is.na</span><span class="p">(</span><span class="n">df</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="5-number-of-h-1b-applications-filed-from-2015-to-2019">5. Number of H-1B applications filed from 2015 to 2019</h2>
<p>To start a comparison of the H-1B visa process in the two years, it first makes sense to understand how many applications were filed in these years. The number of applications filed was fairly constant from 2015 to 2019 and hence, I believe that the comparison of data from 2015-2019 is fair.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">year_count</span> <span class="o">&lt;-</span> <span class="n">df</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">group_by</span><span class="p">(</span><span class="n">YEAR</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">summarise</span><span class="p">(</span><span class="n">COUNTS</span> <span class="o">=</span> <span class="nf">n</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">year_count</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">geom_bar</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">YEAR</span><span class="p">,</span> <span class="n">COUNTS</span><span class="o">/</span><span class="m">1000</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">YEAR</span><span class="p">),</span> <span class="n">stat</span> <span class="o">=</span> <span class="s">&#34;identity&#34;</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">geom_text</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">YEAR</span><span class="p">,</span> <span class="n">COUNTS</span><span class="o">/</span><span class="m">1000</span><span class="p">,</span> <span class="n">label</span> <span class="o">=</span> <span class="nf">paste</span><span class="p">(</span><span class="n">COUNTS</span><span class="p">)))</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">&#34;Year&#34;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">&#34;Number of applications filed (in thousands)&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">    <span class="n">title</span><span class="o">=</span><span class="s">&#34;Number of H-1B applications over the years&#34;</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">theme</span><span class="p">(</span><span class="n">legend.position</span> <span class="o">=</span> <span class="s">&#34;none&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="/Portfolio/h-1b-analysis/5.jpg" title="/Portfolio/h-1b-analysis/5.jpg" data-thumbnail="/Portfolio/h-1b-analysis/5.jpg" data-sub-html="<h2>Number of applications over the years</h2>">
        <img
            class="lazyload"
            src="/Portfolio/svg/loading.min.svg"
            data-src="/Portfolio/h-1b-analysis/5.jpg"
            data-srcset="/Portfolio/h-1b-analysis/5.jpg, /Portfolio/h-1b-analysis/5.jpg 1.5x, /Portfolio/h-1b-analysis/5.jpg 2x"
            data-sizes="auto"
            alt="/Portfolio/h-1b-analysis/5.jpg" width="1360" height="952" />
    </a><figcaption class="image-caption">Number of applications over the years</figcaption>
    </figure></p>
<h2 id="6-number-of-applications-by-state">6. Number of applications by state</h2>
<p>In continuation to the general exploration of data, let’s view the number of applications filed in each states to get an idea of which state is most willing to sponsor H-1B work visas.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">state_counts</span> <span class="o">&lt;-</span> <span class="n">df</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">group_by</span><span class="p">(</span><span class="n">STATE</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">summarise</span><span class="p">(</span><span class="n">COUNT</span> <span class="o">=</span> <span class="nf">n</span><span class="p">(),</span> <span class="n">.groups</span> <span class="o">=</span> <span class="s">&#34;drop&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">state_counts</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">geom_bar</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="nf">reorder</span><span class="p">(</span><span class="n">STATE</span><span class="p">,</span> <span class="o">-</span><span class="n">COUNT</span><span class="p">),</span> <span class="n">y</span><span class="o">=</span><span class="n">COUNT</span><span class="o">/</span><span class="m">1000</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">STATE</span><span class="p">),</span> <span class="n">stat</span><span class="o">=</span><span class="s">&#34;identity&#34;</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">&#34;States&#34;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">&#34;Number of applications in thousands&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">title</span><span class="o">=</span><span class="s">&#34;Number of applications per state over the years&#34;</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">theme</span><span class="p">(</span><span class="n">legend.position</span> <span class="o">=</span> <span class="s">&#34;none&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="/Portfolio/h-1b-analysis/6.png" title="/Portfolio/h-1b-analysis/6.png" data-thumbnail="/Portfolio/h-1b-analysis/6.png" data-sub-html="<h2>Number of applications by state</h2>">
        <img
            class="lazyload"
            src="/Portfolio/svg/loading.min.svg"
            data-src="/Portfolio/h-1b-analysis/6.png"
            data-srcset="/Portfolio/h-1b-analysis/6.png, /Portfolio/h-1b-analysis/6.png 1.5x, /Portfolio/h-1b-analysis/6.png 2x"
            data-sizes="auto"
            alt="/Portfolio/h-1b-analysis/6.png" width="1344" height="960" />
    </a><figcaption class="image-caption">Number of applications by state</figcaption>
    </figure></p>
<h2 id="7-distribution-of-case-status">7. Distribution of Case Status</h2>
<p>In 2017, President Trump’s administration introduced a memo that rescinded an older memo from December 2000 and took the position that entry-level computer programmers are not presumed to be eligible for H-1B visas. USCIS officials maintained that this was not a policy change but instead was meant to clarify the existing policy. Experts, however, said that the impact would likely lead to increased scrutiny of the H-1B petitions.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">case_stat_sum</span> <span class="o">&lt;-</span> <span class="n">df</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                <span class="nf">group_by</span><span class="p">(</span><span class="n">CASE_STATUS</span><span class="p">,</span> <span class="n">YEAR</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                <span class="nf">summarise</span><span class="p">(</span><span class="n">TOTAL</span> <span class="o">=</span> <span class="nf">n</span><span class="p">(),</span> <span class="n">.groups</span> <span class="o">=</span> <span class="s">&#34;drop&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">case_stat_sum</span><span class="o">$</span><span class="n">YEAR</span> <span class="o">&lt;-</span> <span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">case_stat_sum</span><span class="o">$</span><span class="n">YEAR</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"><span class="n">props</span> <span class="o">&lt;-</span> <span class="n">case_stat_sum</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">        <span class="nf">group_by</span><span class="p">(</span><span class="n">YEAR</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">        <span class="nf">summarise</span><span class="p">(</span><span class="n">PERCENT</span> <span class="o">=</span> <span class="n">TOTAL</span><span class="o">*</span><span class="m">100</span><span class="o">/</span><span class="nf">sum</span><span class="p">(</span><span class="n">TOTAL</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                <span class="n">CASE_GROUP</span> <span class="o">=</span> <span class="n">CASE_STATUS</span><span class="p">,</span> <span class="n">.groups</span> <span class="o">=</span> <span class="s">&#34;drop&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">props</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">YEAR</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">PERCENT</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">CASE_GROUP</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nf">geom_line</span><span class="p">()</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl">    <span class="nf">geom_point</span><span class="p">()</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nf">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="n">CASE_GROUP</span><span class="p">,</span> <span class="n">scales</span> <span class="o">=</span> <span class="s">&#34;free_y&#34;</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl">    <span class="nf">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">&#34;Year&#34;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">&#34;Applications (in %)&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="n">title</span><span class="o">=</span><span class="s">&#34;Proportion of each type of case status over the years&#34;</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl">    <span class="nf">theme</span><span class="p">(</span><span class="n">legend.position</span> <span class="o">=</span> <span class="s">&#34;none&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="/Portfolio/h-1b-analysis/7.png" title="/Portfolio/h-1b-analysis/7.png" data-thumbnail="/Portfolio/h-1b-analysis/7.png" data-sub-html="<h2>Distribution of case status over the years</h2>">
        <img
            class="lazyload"
            src="/Portfolio/svg/loading.min.svg"
            data-src="/Portfolio/h-1b-analysis/7.png"
            data-srcset="/Portfolio/h-1b-analysis/7.png, /Portfolio/h-1b-analysis/7.png 1.5x, /Portfolio/h-1b-analysis/7.png 2x"
            data-sizes="auto"
            alt="/Portfolio/h-1b-analysis/7.png" width="1344" height="960" />
    </a><figcaption class="image-caption">Distribution of case status over the years</figcaption>
    </figure></p>
<h2 id="8-occupation-code">8. Occupation Code</h2>
<p>From the plot below, we observe that overall, IT related occupations received substantially more H-1B petitions than the other fields. The top 5 specialty occupations are IT related and require some form of programming.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">occup_code</span> <span class="o">&lt;-</span> <span class="n">df</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">group_by</span><span class="p">(</span><span class="n">SOC_NAME</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">summarise</span><span class="p">(</span><span class="n">COUNT</span> <span class="o">=</span> <span class="nf">n</span><span class="p">(),</span> <span class="n">.groups</span> <span class="o">=</span> <span class="s">&#34;drop&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">top_n</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="m">20</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">occup_code</span><span class="o">$</span><span class="n">SOC_NAME</span> <span class="o">&lt;-</span> <span class="nf">as.character</span><span class="p">(</span><span class="n">occup_code</span><span class="o">$</span><span class="n">SOC_NAME</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">occup_code</span><span class="o">$</span><span class="n">SOC_NAME</span> <span class="o">&lt;-</span> <span class="nf">toTitleCase</span><span class="p">(</span><span class="nf">tolower</span><span class="p">(</span><span class="n">occup_code</span><span class="o">$</span><span class="n">SOC_NAME</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">occup_code</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">geom_bar</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">COUNT</span><span class="o">/</span><span class="m">1000</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="nf">reorder</span><span class="p">(</span><span class="n">SOC_NAME</span><span class="p">,</span> <span class="n">COUNT</span><span class="p">),</span> <span class="n">fill</span><span class="o">=</span><span class="n">SOC_NAME</span><span class="p">),</span> <span class="n">stat</span> <span class="o">=</span> <span class="s">&#34;identity&#34;</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">&#34;Applications (in thousands)&#34;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">&#34;Speciality Occupation&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">title</span><span class="o">=</span><span class="s">&#34;Most popular Speciality Occupations&#34;</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">guides</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="s">&#34;none&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="/Portfolio/h-1b-analysis/8.png" title="/Portfolio/h-1b-analysis/8.png" data-thumbnail="/Portfolio/h-1b-analysis/8.png" data-sub-html="<h2>Popular occupation codes</h2>">
        <img
            class="lazyload"
            src="/Portfolio/svg/loading.min.svg"
            data-src="/Portfolio/h-1b-analysis/8.png"
            data-srcset="/Portfolio/h-1b-analysis/8.png, /Portfolio/h-1b-analysis/8.png 1.5x, /Portfolio/h-1b-analysis/8.png 2x"
            data-sizes="auto"
            alt="/Portfolio/h-1b-analysis/8.png" width="1344" height="960" />
    </a><figcaption class="image-caption">Popular occupation codes</figcaption>
    </figure></p>
<p>Since, the memo was directed towards IT related job roles, let us see if there was a decline in the certification of IT related occupation applications in 2017. A line plot tells us the trend over the years from 2015 to 2019.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">occup_rate</span> <span class="o">&lt;-</span> <span class="n">df</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">filter</span><span class="p">(</span><span class="n">CASE_STATUS</span> <span class="o">==</span> <span class="s">&#34;CERTIFIED&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">group_by</span><span class="p">(</span><span class="n">YEAR</span><span class="p">,</span> <span class="n">SOC_NAME</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">summarise</span><span class="p">(</span><span class="n">COUNT</span> <span class="o">=</span> <span class="nf">n</span><span class="p">(),</span> <span class="n">.groups</span> <span class="o">=</span> <span class="s">&#34;drop&#34;</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl"><span class="n">occup_rate</span> <span class="o">&lt;-</span> <span class="n">occup_rate</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">group_by</span><span class="p">(</span><span class="n">YEAR</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">top_n</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="m">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">occup_rate</span> <span class="o">&lt;-</span> <span class="n">occup_rate</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">group_by</span><span class="p">(</span><span class="n">SOC_NAME</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">filter</span><span class="p">(</span><span class="nf">n</span><span class="p">()</span> <span class="o">==</span> <span class="m">5</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">occup_rate</span><span class="o">$</span><span class="n">YEAR</span> <span class="o">&lt;-</span> <span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">occup_rate</span><span class="o">$</span><span class="n">YEAR</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">occup_rate</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span> <span class="o">=</span> <span class="n">YEAR</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">COUNT</span><span class="o">/</span><span class="m">1000</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">SOC_NAME</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nf">geom_line</span><span class="p">()</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nf">geom_point</span><span class="p">()</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nf">facet_grid</span><span class="p">(</span><span class="o">~</span><span class="n">SOC_NAME</span><span class="p">,</span> <span class="n">labeller</span> <span class="o">=</span> <span class="nf">label_wrap_gen</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="m">10</span><span class="p">))</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl">    <span class="nf">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">&#34;Year&#34;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">&#34;Applications (in thousands)&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">        <span class="n">title</span><span class="o">=</span><span class="s">&#34;Trend in certified application over the years&#34;</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl">    <span class="nf">theme</span><span class="p">(</span><span class="n">legend.position</span> <span class="o">=</span> <span class="s">&#34;none&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="/Portfolio/h-1b-analysis/8_2.png" title="/Portfolio/h-1b-analysis/8_2.png" data-thumbnail="/Portfolio/h-1b-analysis/8_2.png" data-sub-html="<h2>Trend in certified applications over time</h2>">
        <img
            class="lazyload"
            src="/Portfolio/svg/loading.min.svg"
            data-src="/Portfolio/h-1b-analysis/8_2.png"
            data-srcset="/Portfolio/h-1b-analysis/8_2.png, /Portfolio/h-1b-analysis/8_2.png 1.5x, /Portfolio/h-1b-analysis/8_2.png 2x"
            data-sizes="auto"
            alt="/Portfolio/h-1b-analysis/8_2.png" width="1344" height="960" />
    </a><figcaption class="image-caption">Trend in certified applications over time</figcaption>
    </figure></p>
<p>From the above plot, there is a slight drop in the number of certified applications in all three categories. The total number of H-1B applications filed in 2017 was less than that in 2016 but the difference was not significant. Moreover, in 2019, the number of H-1B applications filed was similar to that in 2017 and we see a meteoric rise for the <code>SOFTWARE DEVELOPERS, APPLICATIONS</code> SOC. The fact that there was a drop in the number of <code>SOFTWARE DEVELOPERS, APPLICATIONS</code> H-1B application confirms the effect of President Trump’s memo on the IT industry.</p>
<h2 id="9-was-there-a-change-in-the-number-of-applications-for-these-positions-over-the-years">9. Was there a change in the number of applications for these positions over the years?</h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">occupations</span> <span class="o">&lt;-</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;COMPUTER OCCUPATIONS, ALL OTHER&#34;</span><span class="p">,</span> <span class="s">&#34;COMPTUER SYSTEMS ANALYST&#34;</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                <span class="s">&#34;SOFTWARE DEVELOPERS, APPLICATIONS&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">state_wise_applis</span> <span class="o">&lt;-</span> <span class="n">df</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                    <span class="nf">filter</span><span class="p">(</span><span class="n">SOC_NAME</span> <span class="o">%in%</span> <span class="n">occupations</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                    <span class="nf">group_by</span><span class="p">(</span><span class="n">YEAR</span><span class="p">,</span> <span class="n">STATE</span><span class="p">,</span> <span class="n">SOC_NAME</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                    <span class="nf">summarise</span><span class="p">(</span><span class="n">COUNT</span> <span class="o">=</span> <span class="nf">n</span><span class="p">(),</span> <span class="n">.groups</span> <span class="o">=</span> <span class="s">&#34;drop&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">state_wise_applis</span><span class="o">$</span><span class="n">YEAR</span> <span class="o">&lt;-</span> <span class="nf">as.numeric</span><span class="p">(</span><span class="nf">as.character</span><span class="p">(</span><span class="n">state_wise_applis</span><span class="o">$</span><span class="n">YEAR</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">state_wise_applis</span><span class="p">,</span> <span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">YEAR</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">COUNT</span><span class="o">/</span><span class="m">1000</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">STATE</span><span class="p">))</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">geom_point</span><span class="p">()</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">geom_line</span><span class="p">()</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="n">SOC_NAME</span><span class="p">,</span> <span class="n">labeller</span> <span class="o">=</span> <span class="nf">label_wrap_gen</span><span class="p">(</span><span class="n">width</span> <span class="o">=</span> <span class="m">10</span><span class="p">))</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">&#34;Year&#34;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">&#34;Number of applications in thousands&#34;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#34;State&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">title</span><span class="o">=</span><span class="s">&#34;Trend in the number of applications for programming related occupations&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="/Portfolio/h-1b-analysis/9_1.png" title="/Portfolio/h-1b-analysis/9_1.png" data-thumbnail="/Portfolio/h-1b-analysis/9_1.png" data-sub-html="<h2>Trend in the number of applications for programming related occupations</h2>">
        <img
            class="lazyload"
            src="/Portfolio/svg/loading.min.svg"
            data-src="/Portfolio/h-1b-analysis/9_1.png"
            data-srcset="/Portfolio/h-1b-analysis/9_1.png, /Portfolio/h-1b-analysis/9_1.png 1.5x, /Portfolio/h-1b-analysis/9_1.png 2x"
            data-sizes="auto"
            alt="/Portfolio/h-1b-analysis/9_1.png" width="1344" height="960" />
    </a><figcaption class="image-caption">Trend in the number of applications for programming related occupations</figcaption>
    </figure>
<figure><a class="lightgallery" href="/Portfolio/h-1b-analysis/9_2.jpeg" title="/Portfolio/h-1b-analysis/9_2.jpeg" data-thumbnail="/Portfolio/h-1b-analysis/9_2.jpeg" data-sub-html="<h2>Political preference in the 2016 presidential elections</h2>">
        <img
            class="lazyload"
            src="/Portfolio/svg/loading.min.svg"
            data-src="/Portfolio/h-1b-analysis/9_2.jpeg"
            data-srcset="/Portfolio/h-1b-analysis/9_2.jpeg, /Portfolio/h-1b-analysis/9_2.jpeg 1.5x, /Portfolio/h-1b-analysis/9_2.jpeg 2x"
            data-sizes="auto"
            alt="/Portfolio/h-1b-analysis/9_2.jpeg" width="661" height="416" />
    </a><figcaption class="image-caption">Political preference in the 2016 presidential elections</figcaption>
    </figure></p>
<p>Out of the 8 states, 5 states saw a decline in the number of applications filed for the <code>SOFTWARE DEVELOPERS, APPLICATIONS</code> SOC. Hence, not all states followed the memo recommended by the president’s administration. Interestingly, out of the 5 states that saw a drop in the number of H-1B applications for this SOC, President Trump won the elections in 3 states. Furthermore, in the states where there was an increase in the number of applications, President Trump won in 2 states as can be seen from the map above. Hence, there does not seem to be a connection to the state’s political preference and the number of applications.</p>
<h2 id="10-part-time-vs-full-time">10. Part-time vs Full-time</h2>
<p>Another potentially interesting effect of the memo could be the effect it had on the Part-time vs Full-time applicants. Due to more scrutiny, I expect the proportion of Part-time applications that are certified to be smaller in 2017 when compared to the other years, or at least, decline from the previous year. From the pie chart below, we notice that there is a decrease in the number of part time certification but the trend continues into 2018 and 2019. It is interesting to note that there were more part time certifications in 2016 than full time!</p>
<p>On doing more research, it turns out that USCIS reached the maximum cap for full time H-1B applications in 4/7/2015 and that no more applications would be accepted till October 2016. CMU’s Office of International Education posted an interesting update on this situation in 2015. Have a read <a href="https://www.cmu.edu/oie/news-and-events/archives/2014-2015/april/h-2016.html" target="_blank" rel="noopener noreffer ">here</a>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">part_time</span> <span class="o">&lt;-</span> <span class="n">df</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">filter</span><span class="p">(</span><span class="n">CASE_STATUS</span> <span class="o">==</span> <span class="s">&#34;CERTIFIED&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">group_by</span><span class="p">(</span><span class="n">YEAR</span><span class="p">,</span> <span class="n">FULL_TIME_POSITION</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">summarise</span><span class="p">(</span><span class="n">COUNT</span> <span class="o">=</span> <span class="nf">n</span><span class="p">(),</span> <span class="n">.groups</span> <span class="o">=</span> <span class="s">&#34;drop&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">part_time</span> <span class="o">&lt;-</span> <span class="n">part_time</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">group_by</span><span class="p">(</span><span class="n">YEAR</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">summarise</span><span class="p">(</span><span class="n">PERCENT</span> <span class="o">=</span> <span class="nf">round</span><span class="p">(</span><span class="n">COUNT</span><span class="o">*</span><span class="m">100</span><span class="o">/</span><span class="nf">sum</span><span class="p">(</span><span class="n">COUNT</span><span class="p">),</span> <span class="m">1</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">                    <span class="n">COUNT</span> <span class="o">=</span> <span class="n">COUNT</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                    <span class="n">FULL_TIME</span> <span class="o">=</span> <span class="n">FULL_TIME_POSITION</span><span class="p">,</span> <span class="n">.groups</span> <span class="o">=</span> <span class="s">&#34;drop&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">part_time</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">geom_bar</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">&#34;&#34;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">PERCENT</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">FULL_TIME</span><span class="p">),</span> <span class="n">stat</span> <span class="o">=</span> <span class="s">&#34;identity&#34;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="m">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#34;white&#34;</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">geom_text</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">&#34;&#34;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">PERCENT</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="nf">paste</span><span class="p">(</span><span class="n">PERCENT</span><span class="p">,</span> <span class="s">&#34;%&#34;</span><span class="p">)),</span> 
</span></span><span class="line"><span class="cl">            <span class="n">position</span> <span class="o">=</span> <span class="nf">position_stack</span><span class="p">(</span><span class="n">vjust</span> <span class="o">=</span> <span class="m">0.5</span><span class="p">))</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">facet_wrap</span><span class="p">(</span><span class="o">~</span><span class="n">YEAR</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">coord_polar</span><span class="p">(</span><span class="s">&#34;y&#34;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="m">0</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">&#34;Proportion of Part time certified applications over the years&#34;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">&#34;&#34;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">&#34;&#34;</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl"><span class="nf">guides</span><span class="p">(</span><span class="n">fill</span><span class="o">=</span><span class="nf">guide_legend</span><span class="p">(</span><span class="n">title</span> <span class="o">=</span> <span class="s">&#34;Full Time&#34;</span><span class="p">))</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">theme</span><span class="p">(</span><span class="n">axis.text</span> <span class="o">=</span> <span class="nf">element_blank</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">        <span class="n">axis.ticks</span> <span class="o">=</span> <span class="nf">element_blank</span><span class="p">(),</span>
</span></span><span class="line"><span class="cl">        <span class="n">panel.grid</span>  <span class="o">=</span> <span class="nf">element_blank</span><span class="p">())</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="/Portfolio/h-1b-analysis/10.png" title="/Portfolio/h-1b-analysis/10.png" data-thumbnail="/Portfolio/h-1b-analysis/10.png" data-sub-html="<h2>Proportions of part-time over the years</h2>">
        <img
            class="lazyload"
            src="/Portfolio/svg/loading.min.svg"
            data-src="/Portfolio/h-1b-analysis/10.png"
            data-srcset="/Portfolio/h-1b-analysis/10.png, /Portfolio/h-1b-analysis/10.png 1.5x, /Portfolio/h-1b-analysis/10.png 2x"
            data-sizes="auto"
            alt="/Portfolio/h-1b-analysis/10.png" width="1344" height="960" />
    </a><figcaption class="image-caption">Proportions of part-time over the years</figcaption>
    </figure></p>
<h2 id="11-effect-of-h-1b-salary-floor-on-the-certification-percentage">11. Effect of H-1B salary floor on the certification percentage</h2>
<p>Another memo that President Trump’s administration introduced was to raise the minimum salary requirements for an individual to qualify for the visa. They proposed to raise it to $90,000. First, let’s see if this reflects in the data in the form of mean salaries over the years for all case statuses.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">salaries</span> <span class="o">&lt;-</span> <span class="n">df</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">        <span class="nf">group_by</span><span class="p">(</span><span class="n">YEAR</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">        <span class="nf">summarise</span><span class="p">(</span><span class="n">SALARY</span> <span class="o">=</span> <span class="n">PREVAILING_WAGE</span><span class="p">,</span> 
</span></span><span class="line"><span class="cl">                    <span class="n">MEAN_WAGE</span> <span class="o">=</span> <span class="nf">mean</span><span class="p">(</span><span class="n">PREVAILING_WAGE</span><span class="p">),</span> <span class="n">.groups</span> <span class="o">=</span> <span class="s">&#34;drop&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">salaries</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">geom_boxplot</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">YEAR</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">SALARY</span><span class="o">/</span><span class="m">1000</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">YEAR</span><span class="p">))</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">ylim</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">111</span><span class="p">)</span> <span class="o">+</span>
</span></span><span class="line"><span class="cl"><span class="nf">labs</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s">&#34;Salaries over the years for all case categories&#34;</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">&#34;Year&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">y</span><span class="o">=</span><span class="s">&#34;Salary in thousands&#34;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#34;Year&#34;</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">geom_point</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">YEAR</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">MEAN_WAGE</span><span class="o">/</span><span class="m">1000</span><span class="p">),</span> <span class="n">shape</span><span class="o">=</span><span class="m">23</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="s">&#34;blue&#34;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">&#34;darkred&#34;</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="m">4</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl"><span class="nf">theme</span><span class="p">(</span><span class="n">legend.position</span> <span class="o">=</span> <span class="s">&#34;none&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="/Portfolio/h-1b-analysis/11.png" title="/Portfolio/h-1b-analysis/11.png" data-thumbnail="/Portfolio/h-1b-analysis/11.png" data-sub-html="<h2>Salaries over the years for all case categories</h2>">
        <img
            class="lazyload"
            src="/Portfolio/svg/loading.min.svg"
            data-src="/Portfolio/h-1b-analysis/11.png"
            data-srcset="/Portfolio/h-1b-analysis/11.png, /Portfolio/h-1b-analysis/11.png 1.5x, /Portfolio/h-1b-analysis/11.png 2x"
            data-sizes="auto"
            alt="/Portfolio/h-1b-analysis/11.png" width="1344" height="960" />
    </a><figcaption class="image-caption">Salaries over the years for all case categories</figcaption>
    </figure></p>
<p>From the above plot, in general, there is an increase in the mean wage from 2015 to 2017. Lets perform a hypothesis test to see if there is a statistically significant difference in the mean of the wages in 2016 and 2017.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">test_data</span> <span class="o">&lt;-</span> <span class="n">df</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">filter</span><span class="p">(</span><span class="n">YEAR</span> <span class="o">%in%</span> <span class="nf">c</span><span class="p">(</span><span class="m">2016</span><span class="p">,</span> <span class="m">2017</span><span class="p">))</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">group_by</span><span class="p">(</span><span class="n">YEAR</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">            <span class="nf">summarise</span><span class="p">(</span><span class="n">SALARY</span> <span class="o">=</span> <span class="n">PREVAILING_WAGE</span><span class="p">,</span> <span class="n">.groups</span> <span class="o">=</span> <span class="s">&#34;drop&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">t.test</span><span class="p">(</span><span class="n">test_data[test_data</span><span class="o">$</span><span class="n">YEAR</span> <span class="o">==</span> <span class="m">2016</span><span class="p">,</span> <span class="m">2</span><span class="n">]</span><span class="p">,</span> <span class="n">test_data[test_data</span><span class="o">$</span><span class="n">YEAR</span> <span class="o">==</span> <span class="m">2017</span><span class="p">,</span> <span class="m">2</span><span class="n">]</span><span class="p">,</span> <span class="n">conf.level</span><span class="o">=</span><span class="m">0.95</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1">## </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  Welch Two Sample t-test</span>
</span></span><span class="line"><span class="cl"><span class="c1">## </span>
</span></span><span class="line"><span class="cl"><span class="c1">## data:  test_data[test_data$YEAR == 2016, 2] and test_data[test_data$YEAR == 2017, 2]</span>
</span></span><span class="line"><span class="cl"><span class="c1">## t = -2.2269, df = 310697, p-value = 0.02596</span>
</span></span><span class="line"><span class="cl"><span class="c1">## alternative hypothesis: true difference in means is not equal to 0</span>
</span></span><span class="line"><span class="cl"><span class="c1">## 95 percent confidence interval:</span>
</span></span><span class="line"><span class="cl"><span class="c1">##  -24271.894  -1547.306</span>
</span></span><span class="line"><span class="cl"><span class="c1">## sample estimates:</span>
</span></span><span class="line"><span class="cl"><span class="c1">## mean of x mean of y </span>
</span></span><span class="line"><span class="cl"><span class="c1">##  84525.32  97434.92</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Since the p-value is lower than the level of significance (0.05), we can say that there is a statistically significant difference between the salaries in year 2016 and 2017. Hence, President Trump’s policy did have a significant affect on the prevailing wages in 2017. The mean wages rose from $84,525 in 2016 to $97,434 in 2017.</p>
<h2 id="12-which-companies-sponsored-h-1b-visas-the-most-and-was-there-a-decline-after-the-memos">12. Which companies sponsored H-1B visas the most, and was there a decline after the memos?</h2>
<p>H-1B visas are sponsored by a company. It could be interesting to see if there was a decline in the number of applications filed by the company in 2017 for the SOFTWARE DEVELOPER, APPLICATIONS SOC. Since there are a large number of companies that sponsor visa, lets look at the top 10 companies for this specific occupation over all the years.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">company_nums</span> <span class="o">&lt;-</span> <span class="n">df</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                <span class="nf">filter</span><span class="p">(</span><span class="n">SOC_NAME</span> <span class="o">==</span> <span class="s">&#34;SOFTWARE DEVELOPERS, APPLICATIONS&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                <span class="nf">group_by</span><span class="p">(</span><span class="n">EMPLOYER_NAME</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                <span class="nf">summarise</span><span class="p">(</span><span class="n">COUNT</span> <span class="o">=</span> <span class="nf">n</span><span class="p">(),</span> <span class="n">.groups</span> <span class="o">=</span> <span class="s">&#34;drop&#34;</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                <span class="nf">top_n</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="m">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">treemap</span><span class="p">(</span><span class="n">dtf</span><span class="o">=</span><span class="n">company_nums</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">index</span><span class="o">=</span><span class="s">&#34;EMPLOYER_NAME&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">vSize</span><span class="o">=</span><span class="s">&#34;COUNT&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">type</span><span class="o">=</span><span class="s">&#34;index&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="n">title</span><span class="o">=</span><span class="s">&#34;Companies that sponsored H-1B visas the most&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="/Portfolio/h-1b-analysis/12.png" title="/Portfolio/h-1b-analysis/12.png" data-thumbnail="/Portfolio/h-1b-analysis/12.png" data-sub-html="<h2>Companies that sponsored H-1B visas the most</h2>">
        <img
            class="lazyload"
            src="/Portfolio/svg/loading.min.svg"
            data-src="/Portfolio/h-1b-analysis/12.png"
            data-srcset="/Portfolio/h-1b-analysis/12.png, /Portfolio/h-1b-analysis/12.png 1.5x, /Portfolio/h-1b-analysis/12.png 2x"
            data-sizes="auto"
            alt="/Portfolio/h-1b-analysis/12.png" width="1344" height="960" />
    </a><figcaption class="image-caption">Companies that sponsored H-1B visas the most</figcaption>
    </figure></p>
<p>Over the years, Capgemini has sponsored the most number of H-1B visas for the <code>SOFTWARE DEVELOPERS, APPLICATIONS</code> SOC. Let’s see what the year-wise break-down looks like for 2016 and 2017.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-r" data-lang="r"><span class="line"><span class="cl"><span class="n">year_breakdown</span> <span class="o">&lt;-</span> <span class="n">df</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                  <span class="nf">filter</span><span class="p">(</span><span class="n">SOC_NAME</span> <span class="o">==</span> <span class="s">&#34;SOFTWARE DEVELOPERS, APPLICATIONS&#34;</span> <span class="o">&amp;</span> 
</span></span><span class="line"><span class="cl">                           <span class="n">YEAR</span> <span class="o">%in%</span> <span class="nf">c</span><span class="p">(</span><span class="s">&#34;2016&#34;</span><span class="p">,</span> <span class="s">&#34;2017&#34;</span><span class="p">))</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                  <span class="nf">group_by</span><span class="p">(</span><span class="n">YEAR</span><span class="p">,</span> <span class="n">EMPLOYER_NAME</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                  <span class="nf">summarise</span><span class="p">(</span><span class="n">COUNT</span> <span class="o">=</span> <span class="nf">n</span><span class="p">(),</span> <span class="n">.groups</span> <span class="o">=</span> <span class="s">&#34;drop&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ordered_breakdowns</span> <span class="o">&lt;-</span> <span class="n">year_breakdown</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                      <span class="nf">group_by</span><span class="p">(</span><span class="n">YEAR</span><span class="p">)</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                      <span class="nf">arrange</span><span class="p">(</span><span class="nf">desc</span><span class="p">(</span><span class="n">COUNT</span><span class="p">))</span> <span class="o">%&gt;%</span>
</span></span><span class="line"><span class="cl">                      <span class="nf">head</span><span class="p">(</span><span class="m">20</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ordered_breakdowns</span><span class="o">$</span><span class="n">EMPLOYER_NAME</span> <span class="o">&lt;-</span> <span class="nf">str_wrap</span><span class="p">(</span><span class="n">ordered_breakdowns</span><span class="o">$</span><span class="n">EMPLOYER_NAME</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="m">30</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">ggplot</span><span class="p">(</span><span class="n">ordered_breakdowns</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">geom_tile</span><span class="p">(</span><span class="nf">aes</span><span class="p">(</span><span class="n">YEAR</span><span class="p">,</span> <span class="n">EMPLOYER_NAME</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">COUNT</span><span class="p">))</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">labs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s">&#34;Year&#34;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">&#34;Employer name&#34;</span><span class="p">)</span> <span class="o">+</span> 
</span></span><span class="line"><span class="cl">  <span class="nf">scale_fill_gradient</span><span class="p">(</span><span class="n">low</span><span class="o">=</span><span class="s">&#34;lightblue&#34;</span><span class="p">,</span> <span class="n">high</span><span class="o">=</span><span class="s">&#34;darkblue&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p><figure><a class="lightgallery" href="/Portfolio/h-1b-analysis/12_2.png" title="/Portfolio/h-1b-analysis/12_2.png" data-thumbnail="/Portfolio/h-1b-analysis/12_2.png" data-sub-html="<h2>Change in sponsorship</h2>">
        <img
            class="lazyload"
            src="/Portfolio/svg/loading.min.svg"
            data-src="/Portfolio/h-1b-analysis/12_2.png"
            data-srcset="/Portfolio/h-1b-analysis/12_2.png, /Portfolio/h-1b-analysis/12_2.png 1.5x, /Portfolio/h-1b-analysis/12_2.png 2x"
            data-sizes="auto"
            alt="/Portfolio/h-1b-analysis/12_2.png" width="1344" height="960" />
    </a><figcaption class="image-caption">Change in sponsorship</figcaption>
    </figure></p>
<p>In 2017, Capgemini seems to have pulled back on filing H-1B applications where as some new companies like Mastech Digital Technologies began sponsoring visas. Furthermore, Birlasoft and Deloitte did not file any H-1B visas in 2017. JP Morgan also reduced the number of applications filed whereas Fujitsu increased slightly. From the above plot, we can say that the most sponsorship friendly companies in 2016 have been slightly more conservative in filing applications in 2017.</p>
<h2 id="13-conclusion-and-remarks">13. Conclusion and remarks</h2>
<p>President Trump’s administration introduced a few memos in 2017 regarding the H-1B application qualification requirements. They were:</p>
<ol>
<li>Advising against considering entry-level programming jobs as a special occupation</li>
<li>Raising the minimum wage requirement to $90,000</li>
</ol>
<p>There was an observed decrease in the number of H-1B applications certified for the <code>SOFTWARE DEVELOPERS, APPLICATIONS</code> SOC in 2017. The minimum wage requirement memo did raise the mean wage to greater than $90,000 and the percent increase from the previous year was 15.27% which is much higher than the mean inflation rate in 2017 (2.1%).</p>
<p>President Biden has recently reinstated the previous policies and hence, in the future, with more recent data, it will be interesting to see if the numbers of applications filed certified in the IT related jobs have recovered.</p></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2022-09-12</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://adni03.github.io/Portfolio/h-1b-analysis/" data-title="H-1B Visa Analysis [R]" data-hashtags="R,ggplot"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://adni03.github.io/Portfolio/h-1b-analysis/" data-hashtag="R"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://adni03.github.io/Portfolio/h-1b-analysis/" data-title="H-1B Visa Analysis [R]"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://adni03.github.io/Portfolio/h-1b-analysis/" data-title="H-1B Visa Analysis [R]"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://adni03.github.io/Portfolio/h-1b-analysis/" data-title="H-1B Visa Analysis [R]" data-image="h1b-visa.jpg"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/Portfolio/tags/r/">R</a>,&nbsp;<a href="/Portfolio/tags/ggplot/">ggplot</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/Portfolio/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/Portfolio/fake-news-classification/" class="prev" rel="prev" title="Fake News Classification using LSTMs"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>Fake News Classification using LSTMs</a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/Portfolio/" target="_blank">Aditya Nittala</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/css/lightgallery-bundle.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/lightgallery.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/thumbnail/lg-thumbnail.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lightgallery@2.5.0/plugins/zoom/lg-zoom.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{},"lightgallery":true,"search":{"highlightTag":"em","lunrIndexURL":"/Portfolio/index.json","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"lunr"}};</script><script type="text/javascript" src="/Portfolio/js/theme.min.js"></script></body>
</html>
